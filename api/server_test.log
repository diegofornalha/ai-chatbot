/home/suthub/.claude/claude-cto/.venv/lib/python3.11/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
{"timestamp": "2025-09-03T11:45:39.691805Z", "level": "INFO", "logger": "stability_monitor", "message": "Circuit breaker 'claude_sdk' registrado", "module": "stability_monitor", "function": "register_circuit_breaker", "line": 173, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.692013Z", "level": "INFO", "logger": "stability_monitor", "message": "Circuit breaker 'session_operations' registrado", "module": "stability_monitor", "function": "register_circuit_breaker", "line": 173, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.692310Z", "level": "INFO", "logger": "fallback_system", "message": "Fallback registrado para 'chat': cached_response", "module": "fallback_system", "function": "register_fallback", "line": 119, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.692431Z", "level": "INFO", "logger": "fallback_system", "message": "Fallback registrado para 'chat': mock_response", "module": "fallback_system", "function": "register_fallback", "line": 119, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.692523Z", "level": "INFO", "logger": "fallback_system", "message": "Fallback registrado para 'create_session': cached_response", "module": "fallback_system", "function": "register_fallback", "line": 119, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.692599Z", "level": "INFO", "logger": "fallback_system", "message": "Fallback registrado para 'create_session': mock_response", "module": "fallback_system", "function": "register_fallback", "line": 119, "process_id": 2833992, "thread_id": 139846092275776}
INFO:     Started server process [2833992]
INFO:     Waiting for application startup.
{"timestamp": "2025-09-03T11:45:39.757618Z", "level": "INFO", "logger": "__main__", "message": "Iniciando Claude Chat API...", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "app_startup", "component": "server"}}
{"timestamp": "2025-09-03T11:45:39.757922Z", "level": "INFO", "logger": "claude_handler", "message": "Claude Handler inicializado com pool de conex√µes", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "handler_init", "component": "claude_handler", "pool_config": {"max_size": 10, "min_size": 2, "max_age_minutes": 60, "max_uses": 100}}}
{"timestamp": "2025-09-03T11:45:39.758108Z", "level": "INFO", "logger": "analytics_service", "message": "Analytics Service inicializado", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "analytics_init", "component": "analytics_service", "claude_projects_path": "/home/suthub/.claude/projects"}}
{"timestamp": "2025-09-03T11:45:39.758295Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Task scheduler iniciado com sucesso para limpeza peri√≥dica", "module": "session_manager", "function": "_start_scheduler", "line": 188, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.758407Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Gerenciador de sess√µes iniciado com scheduler ativo", "module": "session_manager", "function": "start", "line": 62, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.758547Z", "level": "INFO", "logger": "claude_handler", "message": "ClaudeHandler iniciado com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "handler_started", "component": "claude_handler"}}
{"timestamp": "2025-09-03T11:45:39.758659Z", "level": "INFO", "logger": "__main__", "message": "ClaudeHandler iniciado com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "handler_started", "component": "claude_handler"}}
{"timestamp": "2025-09-03T11:45:39.758782Z", "level": "INFO", "logger": "session_recovery", "message": "Sistema de recupera√ß√£o iniciado com sucesso", "module": "session_recovery", "function": "start", "line": 39, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.758972Z", "level": "INFO", "logger": "session_recovery", "message": "Gerenciador de recupera√ß√£o iniciado", "module": "session_recovery", "function": "start", "line": 313, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.759055Z", "level": "INFO", "logger": "__main__", "message": "Sistema de recupera√ß√£o de sess√µes ativado", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "recovery_system_started", "recovery_timeout": 86400}}
{"timestamp": "2025-09-03T11:45:39.759128Z", "level": "INFO", "logger": "__main__", "message": "Verificando conectividade com Claude SDK...", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "sdk_connectivity_check", "component": "claude_sdk"}}
{"timestamp": "2025-09-03T11:45:39.759398Z", "level": "INFO", "logger": "rate_limiter", "message": "üìù Rate limiting em mem√≥ria (sem Redis configurado)", "module": "rate_limiter", "function": "initialize", "line": 271, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.759516Z", "level": "INFO", "logger": "security_middleware", "message": "‚úÖ Security middleware inicializado", "module": "security_middleware", "function": "_initialize", "line": 56, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.759714Z", "level": "INFO", "logger": "claude_handler", "message": "Criando nova sess√£o", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "session_create_start", "session_id": "test", "has_config": false}}
{"timestamp": "2025-09-03T11:45:39.759826Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Sess√£o registrada: test", "module": "session_manager", "function": "register_session", "line": 249, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.768377Z", "level": "INFO", "logger": "claude_handler", "message": "Novo cliente criado", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "client_created", "pool_size": 0}}
{"timestamp": "2025-09-03T11:45:39.768673Z", "level": "INFO", "logger": "claude_handler", "message": "Sess√£o criada com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "session_created", "session_id": "test", "config": {"system_prompt_length": 0, "allowed_tools_count": 0, "max_turns": null, "permission_mode": "acceptEdits", "cwd": null}}}
{"timestamp": "2025-09-03T11:45:39.768975Z", "level": "INFO", "logger": "claude_handler", "message": "Destruindo sess√£o", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "session_destroy_start", "session_id": "test"}}
{"timestamp": "2025-09-03T11:45:39.769294Z", "level": "WARNING", "logger": "claude_handler", "message": "Erro ao desconectar cliente, continuando remo√ß√£o", "module": "logging_config", "function": "warning", "line": 107, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "client_disconnect_error", "session_id": "test", "error_type": "RuntimeError", "error_message": "Attempted to exit cancel scope in a different task than it was entered in"}}
{"timestamp": "2025-09-03T11:45:39.769480Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Sess√£o removida: test", "module": "session_manager", "function": "unregister_session", "line": 259, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.769577Z", "level": "INFO", "logger": "claude_handler", "message": "Sess√£o destru√≠da com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "session_destroyed", "session_id": "test"}}
{"timestamp": "2025-09-03T11:45:39.769725Z", "level": "INFO", "logger": "__main__", "message": "Claude SDK conectado com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "sdk_connected", "component": "claude_sdk"}}
{"timestamp": "2025-09-03T11:45:39.769862Z", "level": "INFO", "logger": "__main__", "message": "Claude Chat API iniciada com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "app_ready", "component": "server"}}
INFO:     Application startup complete.
ERROR:    [Errno 98] error while attempting to bind on address ('127.0.0.1', 8990): address already in use
INFO:     Waiting for application shutdown.
{"timestamp": "2025-09-03T11:45:39.772054Z", "level": "INFO", "logger": "__main__", "message": "Iniciando shutdown graceful...", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "app_shutdown_start", "component": "server"}}
{"timestamp": "2025-09-03T11:45:39.772182Z", "level": "INFO", "logger": "__main__", "message": "Encerrando sess√µes ativas...", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "sessions_cleanup", "component": "session_manager", "active_sessions_count": 0}}
{"timestamp": "2025-09-03T11:45:39.772351Z", "level": "INFO", "logger": "fallback_system", "message": "Cache limpo", "module": "fallback_system", "function": "clear", "line": 78, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.772495Z", "level": "INFO", "logger": "fallback_system", "message": "Estat√≠sticas de fallback resetadas", "module": "fallback_system", "function": "reset_stats", "line": 332, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.772621Z", "level": "INFO", "logger": "__main__", "message": "Recursos de estabilidade limpos", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "stability_cleanup", "cache_items_cleared": 0, "fallback_stats_reset": true}}
{"timestamp": "2025-09-03T11:45:39.772728Z", "level": "INFO", "logger": "session_recovery", "message": "Encerrando sistema de recupera√ß√£o de sess√µes...", "module": "session_recovery", "function": "shutdown", "line": 276, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.772911Z", "level": "INFO", "logger": "session_recovery", "message": "Sistema de recupera√ß√£o encerrado", "module": "session_recovery", "function": "shutdown", "line": 290, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.773039Z", "level": "INFO", "logger": "__main__", "message": "Sistema de recupera√ß√£o de sess√µes encerrado", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776}
{"timestamp": "2025-09-03T11:45:39.773113Z", "level": "INFO", "logger": "__main__", "message": "Sess√µes encerradas e recursos limpos", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "sessions_closed", "component": "session_manager"}}
{"timestamp": "2025-09-03T11:45:39.773201Z", "level": "INFO", "logger": "__main__", "message": "Shutdown conclu√≠do", "module": "logging_config", "function": "info", "line": 102, "process_id": 2833992, "thread_id": 139846092275776, "extra": {"event": "app_shutdown_complete", "component": "server"}}
INFO:     Application shutdown complete.
