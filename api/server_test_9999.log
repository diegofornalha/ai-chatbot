/home/suthub/.claude/claude-cto/.venv/lib/python3.11/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
{"timestamp": "2025-09-03T11:46:02.594730Z", "level": "INFO", "logger": "stability_monitor", "message": "Circuit breaker 'claude_sdk' registrado", "module": "stability_monitor", "function": "register_circuit_breaker", "line": 173, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.595074Z", "level": "INFO", "logger": "stability_monitor", "message": "Circuit breaker 'session_operations' registrado", "module": "stability_monitor", "function": "register_circuit_breaker", "line": 173, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.595239Z", "level": "INFO", "logger": "fallback_system", "message": "Fallback registrado para 'chat': cached_response", "module": "fallback_system", "function": "register_fallback", "line": 119, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.595312Z", "level": "INFO", "logger": "fallback_system", "message": "Fallback registrado para 'chat': mock_response", "module": "fallback_system", "function": "register_fallback", "line": 119, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.595387Z", "level": "INFO", "logger": "fallback_system", "message": "Fallback registrado para 'create_session': cached_response", "module": "fallback_system", "function": "register_fallback", "line": 119, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.595497Z", "level": "INFO", "logger": "fallback_system", "message": "Fallback registrado para 'create_session': mock_response", "module": "fallback_system", "function": "register_fallback", "line": 119, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     Started server process [2834885]
INFO:     Waiting for application startup.
{"timestamp": "2025-09-03T11:46:02.612666Z", "level": "INFO", "logger": "server", "message": "Iniciando Claude Chat API...", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "app_startup", "component": "server"}}
{"timestamp": "2025-09-03T11:46:02.612957Z", "level": "INFO", "logger": "claude_handler", "message": "Claude Handler inicializado com pool de conex√µes", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "handler_init", "component": "claude_handler", "pool_config": {"max_size": 10, "min_size": 2, "max_age_minutes": 60, "max_uses": 100}}}
{"timestamp": "2025-09-03T11:46:02.613124Z", "level": "INFO", "logger": "analytics_service", "message": "Analytics Service inicializado", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "analytics_init", "component": "analytics_service", "claude_projects_path": "/home/suthub/.claude/projects"}}
{"timestamp": "2025-09-03T11:46:02.613286Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Task scheduler iniciado com sucesso para limpeza peri√≥dica", "module": "session_manager", "function": "_start_scheduler", "line": 188, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.613381Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Gerenciador de sess√µes iniciado com scheduler ativo", "module": "session_manager", "function": "start", "line": 62, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.613457Z", "level": "INFO", "logger": "claude_handler", "message": "ClaudeHandler iniciado com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "handler_started", "component": "claude_handler"}}
{"timestamp": "2025-09-03T11:46:02.613517Z", "level": "INFO", "logger": "server", "message": "ClaudeHandler iniciado com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "handler_started", "component": "claude_handler"}}
{"timestamp": "2025-09-03T11:46:02.613590Z", "level": "INFO", "logger": "session_recovery", "message": "Sistema de recupera√ß√£o iniciado com sucesso", "module": "session_recovery", "function": "start", "line": 39, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.613691Z", "level": "INFO", "logger": "session_recovery", "message": "Gerenciador de recupera√ß√£o iniciado", "module": "session_recovery", "function": "start", "line": 313, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.613774Z", "level": "INFO", "logger": "server", "message": "Sistema de recupera√ß√£o de sess√µes ativado", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "recovery_system_started", "recovery_timeout": 86400}}
{"timestamp": "2025-09-03T11:46:02.613842Z", "level": "INFO", "logger": "server", "message": "Verificando conectividade com Claude SDK...", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "sdk_connectivity_check", "component": "claude_sdk"}}
{"timestamp": "2025-09-03T11:46:02.613947Z", "level": "INFO", "logger": "rate_limiter", "message": "üìù Rate limiting em mem√≥ria (sem Redis configurado)", "module": "rate_limiter", "function": "initialize", "line": 271, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.614021Z", "level": "INFO", "logger": "security_middleware", "message": "‚úÖ Security middleware inicializado", "module": "security_middleware", "function": "_initialize", "line": 56, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.614158Z", "level": "INFO", "logger": "claude_handler", "message": "Criando nova sess√£o", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "session_create_start", "session_id": "test", "has_config": false}}
{"timestamp": "2025-09-03T11:46:02.614260Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Sess√£o registrada: test", "module": "session_manager", "function": "register_session", "line": 249, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.624964Z", "level": "INFO", "logger": "claude_handler", "message": "Novo cliente criado", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "client_created", "pool_size": 0}}
{"timestamp": "2025-09-03T11:46:02.625267Z", "level": "INFO", "logger": "claude_handler", "message": "Sess√£o criada com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "session_created", "session_id": "test", "config": {"system_prompt_length": 0, "allowed_tools_count": 0, "max_turns": null, "permission_mode": "acceptEdits", "cwd": null}}}
{"timestamp": "2025-09-03T11:46:02.625540Z", "level": "INFO", "logger": "claude_handler", "message": "Destruindo sess√£o", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "session_destroy_start", "session_id": "test"}}
{"timestamp": "2025-09-03T11:46:02.625772Z", "level": "WARNING", "logger": "claude_handler", "message": "Erro ao desconectar cliente, continuando remo√ß√£o", "module": "logging_config", "function": "warning", "line": 107, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "client_disconnect_error", "session_id": "test", "error_type": "RuntimeError", "error_message": "Attempted to exit cancel scope in a different task than it was entered in"}}
{"timestamp": "2025-09-03T11:46:02.625897Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Sess√£o removida: test", "module": "session_manager", "function": "unregister_session", "line": 259, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:02.626000Z", "level": "INFO", "logger": "claude_handler", "message": "Sess√£o destru√≠da com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "session_destroyed", "session_id": "test"}}
{"timestamp": "2025-09-03T11:46:02.626087Z", "level": "INFO", "logger": "server", "message": "Claude SDK conectado com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "sdk_connected", "component": "claude_sdk"}}
{"timestamp": "2025-09-03T11:46:02.626240Z", "level": "INFO", "logger": "server", "message": "Claude Chat API iniciada com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "extra": {"event": "app_ready", "component": "server"}}
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:9999 (Press CTRL+C to quit)
{"timestamp": "2025-09-03T11:46:10.510605Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /health", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "83049b14-20e3-4971-8a91-8471a1ea8433", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/health", "path": "/health", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "83049b14-20e3-4971-8a91-8471a1ea8433"}}
{"timestamp": "2025-09-03T11:46:10.511307Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET /health - 404", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "83049b14-20e3-4971-8a91-8471a1ea8433", "client_ip": "127.0.0.1", "extra": {"status_code": 404, "duration_ms": 0.7598400115966797, "response_size": "22", "request_id": "83049b14-20e3-4971-8a91-8471a1ea8433"}}
{"timestamp": "2025-09-03T11:46:10.511573Z", "level": "WARNING", "logger": "security_middleware", "message": "Request warning: {\"timestamp\": \"2025-09-03T08:46:10.511535\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/health\", \"status_code\": 404, \"duration_ms\": 1.69, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 436, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     127.0.0.1:50544 - "GET /health HTTP/1.1" 404 Not Found
{"timestamp": "2025-09-03T11:46:39.699616Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "e98e57d7-71a1-4b2e-9425-69d30044b2eb", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/", "path": "/", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "e98e57d7-71a1-4b2e-9425-69d30044b2eb"}}
{"timestamp": "2025-09-03T11:46:39.700373Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET / - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "e98e57d7-71a1-4b2e-9425-69d30044b2eb", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 0.7994174957275391, "response_size": "43", "request_id": "e98e57d7-71a1-4b2e-9425-69d30044b2eb"}}
{"timestamp": "2025-09-03T11:46:39.700658Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:46:39.700625\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/\", \"status_code\": 200, \"duration_ms\": 1.42, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     127.0.0.1:36184 - "GET / HTTP/1.1" 200 OK
{"timestamp": "2025-09-03T11:46:39.708018Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /sessions", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "7433cada-80a5-4757-8ab4-d9abf082b3fe", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/sessions", "path": "/sessions", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "7433cada-80a5-4757-8ab4-d9abf082b3fe"}}
{"timestamp": "2025-09-03T11:46:39.709605Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /recovery/status", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "53b911c6-d04c-4994-9b6a-8c7edebf0664", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/recovery/status", "path": "/recovery/status", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "53b911c6-d04c-4994-9b6a-8c7edebf0664"}}
{"timestamp": "2025-09-03T11:46:39.710434Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /analytics/sessions", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "d6a7d13a-1086-48e2-8d16-82a75e25c944", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/analytics/sessions", "path": "/analytics/sessions", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "d6a7d13a-1086-48e2-8d16-82a75e25c944"}}
{"timestamp": "2025-09-03T11:46:39.711082Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET /sessions - 404", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "7433cada-80a5-4757-8ab4-d9abf082b3fe", "client_ip": "127.0.0.1", "extra": {"status_code": 404, "duration_ms": 3.078937530517578, "response_size": "22", "request_id": "7433cada-80a5-4757-8ab4-d9abf082b3fe"}}
{"timestamp": "2025-09-03T11:46:39.711604Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: POST /create-session", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "4a39fb99-b3d1-4d91-a36c-0cf2a7dd154a", "client_ip": "127.0.0.1", "extra": {"method": "POST", "url": "http://localhost:9999/create-session", "path": "/create-session", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15", "content-length": "72", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "4a39fb99-b3d1-4d91-a36c-0cf2a7dd154a"}}
{"timestamp": "2025-09-03T11:46:39.711969Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: POST /create-session", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "76c1097b-8f1e-488d-b1fc-24f7d0b6ddd0", "client_ip": "127.0.0.1", "extra": {"method": "POST", "url": "http://localhost:9999/create-session", "path": "/create-session", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15", "content-length": "77", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "76c1097b-8f1e-488d-b1fc-24f7d0b6ddd0"}}
{"timestamp": "2025-09-03T11:46:39.712244Z", "level": "WARNING", "logger": "security_middleware", "message": "Request warning: {\"timestamp\": \"2025-09-03T08:46:39.712212\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/sessions\", \"status_code\": 404, \"duration_ms\": 4.73, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 436, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:39.712654Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET /recovery/status - 404", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "53b911c6-d04c-4994-9b6a-8c7edebf0664", "client_ip": "127.0.0.1", "extra": {"status_code": 404, "duration_ms": 3.0770301818847656, "response_size": "22", "request_id": "53b911c6-d04c-4994-9b6a-8c7edebf0664"}}
{"timestamp": "2025-09-03T11:46:39.712808Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET /analytics/sessions - 404", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "d6a7d13a-1086-48e2-8d16-82a75e25c944", "client_ip": "127.0.0.1", "extra": {"status_code": 404, "duration_ms": 2.391815185546875, "response_size": "22", "request_id": "d6a7d13a-1086-48e2-8d16-82a75e25c944"}}
{"timestamp": "2025-09-03T11:46:39.713085Z", "level": "WARNING", "logger": "security_middleware", "message": "Request warning: {\"timestamp\": \"2025-09-03T08:46:39.713058\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/recovery/status\", \"status_code\": 404, \"duration_ms\": 3.88, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 436, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:39.713371Z", "level": "WARNING", "logger": "security_middleware", "message": "Request warning: {\"timestamp\": \"2025-09-03T08:46:39.713329\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/analytics/sessions\", \"status_code\": 404, \"duration_ms\": 3.97, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 436, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     127.0.0.1:36202 - "GET /sessions HTTP/1.1" 404 Not Found
{"timestamp": "2025-09-03T11:46:39.713853Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: POST /create-session - 404", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "4a39fb99-b3d1-4d91-a36c-0cf2a7dd154a", "client_ip": "127.0.0.1", "extra": {"status_code": 404, "duration_ms": 2.2745132446289062, "response_size": "22", "request_id": "4a39fb99-b3d1-4d91-a36c-0cf2a7dd154a"}}
{"timestamp": "2025-09-03T11:46:39.714094Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: POST /create-session - 404", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "76c1097b-8f1e-488d-b1fc-24f7d0b6ddd0", "client_ip": "127.0.0.1", "extra": {"status_code": 404, "duration_ms": 2.141714096069336, "response_size": "22", "request_id": "76c1097b-8f1e-488d-b1fc-24f7d0b6ddd0"}}
{"timestamp": "2025-09-03T11:46:39.714544Z", "level": "WARNING", "logger": "security_middleware", "message": "Request warning: {\"timestamp\": \"2025-09-03T08:46:39.714515\", \"client_ip\": \"127.0.0.1\", \"method\": \"POST\", \"path\": \"/create-session\", \"status_code\": 404, \"duration_ms\": 6.3, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 436, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:46:39.714718Z", "level": "WARNING", "logger": "security_middleware", "message": "Request warning: {\"timestamp\": \"2025-09-03T08:46:39.714690\", \"client_ip\": \"127.0.0.1\", \"method\": \"POST\", \"path\": \"/create-session\", \"status_code\": 404, \"duration_ms\": 6.27, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 436, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     127.0.0.1:36218 - "GET /recovery/status HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:36226 - "GET /analytics/sessions HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:36190 - "POST /create-session HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:36214 - "POST /create-session HTTP/1.1" 404 Not Found
{"timestamp": "2025-09-03T11:49:01.468303Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "89807f49-89f1-411a-92c5-88a164fedeb1", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/", "path": "/", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "89807f49-89f1-411a-92c5-88a164fedeb1"}}
{"timestamp": "2025-09-03T11:49:01.468921Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET / - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "89807f49-89f1-411a-92c5-88a164fedeb1", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 0.6773471832275391, "response_size": "43", "request_id": "89807f49-89f1-411a-92c5-88a164fedeb1"}}
{"timestamp": "2025-09-03T11:49:01.469156Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:01.469122\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/\", \"status_code\": 200, \"duration_ms\": 1.26, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     127.0.0.1:57004 - "GET / HTTP/1.1" 200 OK
{"timestamp": "2025-09-03T11:49:01.476898Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /api/sessions", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "112de144-52a6-4a9c-9cd3-a1cce7672f18", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/api/sessions", "path": "/api/sessions", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "112de144-52a6-4a9c-9cd3-a1cce7672f18"}}
{"timestamp": "2025-09-03T11:49:01.478561Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /api/analytics/global", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "aadce428-4ffd-4f8e-bb08-ead1a5387ee5", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/api/analytics/global", "path": "/api/analytics/global", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "aadce428-4ffd-4f8e-bb08-ead1a5387ee5"}}
{"timestamp": "2025-09-03T11:49:01.478806Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /api/recovery/status", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "87ad3315-71e4-46a7-bcf8-76dd722dcda1", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/api/recovery/status", "path": "/api/recovery/status", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "87ad3315-71e4-46a7-bcf8-76dd722dcda1"}}
{"timestamp": "2025-09-03T11:49:01.508607Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET /api/sessions - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "112de144-52a6-4a9c-9cd3-a1cce7672f18", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 31.691789627075195, "response_size": "2", "request_id": "112de144-52a6-4a9c-9cd3-a1cce7672f18"}}
{"timestamp": "2025-09-03T11:49:01.509095Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: POST /api/session-with-config", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492", "client_ip": "127.0.0.1", "extra": {"method": "POST", "url": "http://localhost:9999/api/session-with-config", "path": "/api/session-with-config", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15", "content-length": "86", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492"}}
{"timestamp": "2025-09-03T11:49:01.509405Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:01.509363\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/api/sessions\", \"status_code\": 200, \"duration_ms\": 32.84, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:49:01.509916Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: POST /api/session-with-config", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "34ea57d4-48a2-44bb-a743-990382d65952", "client_ip": "127.0.0.1", "extra": {"method": "POST", "url": "http://localhost:9999/api/session-with-config", "path": "/api/session-with-config", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15", "content-length": "91", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "34ea57d4-48a2-44bb-a743-990382d65952"}}
{"timestamp": "2025-09-03T11:49:01.510147Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET /api/analytics/global - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "aadce428-4ffd-4f8e-bb08-ead1a5387ee5", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 31.574726104736328, "response_size": "3128", "request_id": "aadce428-4ffd-4f8e-bb08-ead1a5387ee5"}}
{"timestamp": "2025-09-03T11:49:01.510353Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET /api/recovery/status - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "87ad3315-71e4-46a7-bcf8-76dd722dcda1", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 31.54897689819336, "response_size": "187", "request_id": "87ad3315-71e4-46a7-bcf8-76dd722dcda1"}}
{"timestamp": "2025-09-03T11:49:01.511906Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:01.511866\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/api/analytics/global\", \"status_code\": 200, \"duration_ms\": 33.74, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:49:01.512115Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:01.512080\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/api/recovery/status\", \"status_code\": 200, \"duration_ms\": 33.72, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     127.0.0.1:57016 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:57032 - "GET /api/analytics/global HTTP/1.1" 200 OK
INFO:     127.0.0.1:57040 - "GET /api/recovery/status HTTP/1.1" 200 OK
{"timestamp": "2025-09-03T11:49:01.516429Z", "level": "INFO", "logger": "claude_handler", "message": "Criando nova sess√£o", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492", "client_ip": "127.0.0.1", "extra": {"event": "session_create_start", "session_id": "6c399f56-f43f-4a2f-a3d4-f83852b77909", "has_config": true, "request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492"}}
{"timestamp": "2025-09-03T11:49:01.516584Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Sess√£o registrada: 6c399f56-f43f-4a2f-a3d4-f83852b77909", "module": "session_manager", "function": "register_session", "line": 249, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492", "client_ip": "127.0.0.1"}
{"timestamp": "2025-09-03T11:49:01.524969Z", "level": "INFO", "logger": "claude_handler", "message": "Criando nova sess√£o", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "34ea57d4-48a2-44bb-a743-990382d65952", "client_ip": "127.0.0.1", "extra": {"event": "session_create_start", "session_id": "0202129c-4bc2-4efa-9698-30d90978c0d3", "has_config": true, "request_id": "34ea57d4-48a2-44bb-a743-990382d65952"}}
{"timestamp": "2025-09-03T11:49:01.525453Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Sess√£o registrada: 0202129c-4bc2-4efa-9698-30d90978c0d3", "module": "session_manager", "function": "register_session", "line": 249, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "34ea57d4-48a2-44bb-a743-990382d65952", "client_ip": "127.0.0.1"}
{"timestamp": "2025-09-03T11:49:01.534848Z", "level": "INFO", "logger": "claude_handler", "message": "Novo cliente criado", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492", "client_ip": "127.0.0.1", "extra": {"event": "client_created", "pool_size": 0, "request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492"}}
{"timestamp": "2025-09-03T11:49:01.535252Z", "level": "INFO", "logger": "claude_handler", "message": "Sess√£o criada com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492", "client_ip": "127.0.0.1", "extra": {"event": "session_created", "session_id": "6c399f56-f43f-4a2f-a3d4-f83852b77909", "config": {"system_prompt_length": 0, "allowed_tools_count": 0, "max_turns": null, "permission_mode": "acceptEdits", "cwd": null}, "request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492"}}
{"timestamp": "2025-09-03T11:49:01.535665Z", "level": "INFO", "logger": "server", "message": "‚úÖ Sess√£o criada: 6c399f56-f43f-4a2f-a3d4-f83852b77909", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492", "client_ip": "127.0.0.1", "extra": {"request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492"}}
{"timestamp": "2025-09-03T11:49:01.536127Z", "level": "INFO", "logger": "claude_handler", "message": "Novo cliente criado", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "34ea57d4-48a2-44bb-a743-990382d65952", "client_ip": "127.0.0.1", "extra": {"event": "client_created", "pool_size": 0, "request_id": "34ea57d4-48a2-44bb-a743-990382d65952"}}
{"timestamp": "2025-09-03T11:49:01.536250Z", "level": "INFO", "logger": "claude_handler", "message": "Sess√£o criada com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "34ea57d4-48a2-44bb-a743-990382d65952", "client_ip": "127.0.0.1", "extra": {"event": "session_created", "session_id": "0202129c-4bc2-4efa-9698-30d90978c0d3", "config": {"system_prompt_length": 0, "allowed_tools_count": 0, "max_turns": null, "permission_mode": "acceptEdits", "cwd": null}, "request_id": "34ea57d4-48a2-44bb-a743-990382d65952"}}
{"timestamp": "2025-09-03T11:49:01.536442Z", "level": "INFO", "logger": "server", "message": "‚úÖ Sess√£o criada: 0202129c-4bc2-4efa-9698-30d90978c0d3", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "34ea57d4-48a2-44bb-a743-990382d65952", "client_ip": "127.0.0.1", "extra": {"request_id": "34ea57d4-48a2-44bb-a743-990382d65952"}}
{"timestamp": "2025-09-03T11:49:01.536808Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: POST /api/session-with-config - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 27.651309967041016, "response_size": "53", "request_id": "85ee8d3f-ed72-4d6a-abf5-7f3e8c68c492"}}
{"timestamp": "2025-09-03T11:49:01.537231Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:01.537175\", \"client_ip\": \"127.0.0.1\", \"method\": \"POST\", \"path\": \"/api/session-with-config\", \"status_code\": 200, \"duration_ms\": 60.02, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:49:01.537733Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: POST /api/session-with-config - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "34ea57d4-48a2-44bb-a743-990382d65952", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 27.827978134155273, "response_size": "53", "request_id": "34ea57d4-48a2-44bb-a743-990382d65952"}}
{"timestamp": "2025-09-03T11:49:01.538172Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:01.538110\", \"client_ip\": \"127.0.0.1\", \"method\": \"POST\", \"path\": \"/api/session-with-config\", \"status_code\": 200, \"duration_ms\": 60.13, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     127.0.0.1:57010 - "POST /api/session-with-config HTTP/1.1" 200 OK
INFO:     127.0.0.1:57024 - "POST /api/session-with-config HTTP/1.1" 200 OK
{"timestamp": "2025-09-03T11:49:01.541393Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: POST /api/chat", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "0a056deb-9948-4b86-8c4a-7311bf9ed444", "client_ip": "127.0.0.1", "extra": {"method": "POST", "url": "http://localhost:9999/api/chat", "path": "/api/chat", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15", "content-length": "154", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "0a056deb-9948-4b86-8c4a-7311bf9ed444"}}
{"timestamp": "2025-09-03T11:49:01.544360Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: POST /api/chat - 422", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "0a056deb-9948-4b86-8c4a-7311bf9ed444", "client_ip": "127.0.0.1", "extra": {"status_code": 422, "duration_ms": 2.9904842376708984, "response_size": "226", "request_id": "0a056deb-9948-4b86-8c4a-7311bf9ed444"}}
{"timestamp": "2025-09-03T11:49:01.544591Z", "level": "WARNING", "logger": "security_middleware", "message": "Request warning: {\"timestamp\": \"2025-09-03T08:49:01.544560\", \"client_ip\": \"127.0.0.1\", \"method\": \"POST\", \"path\": \"/api/chat\", \"status_code\": 422, \"duration_ms\": 3.5, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 436, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     127.0.0.1:57024 - "POST /api/chat HTTP/1.1" 422 Unprocessable Entity
{"timestamp": "2025-09-03T11:49:19.028191Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "cb4955fd-5dbb-49f1-a5cf-14f908167093", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/", "path": "/", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "cb4955fd-5dbb-49f1-a5cf-14f908167093"}}
{"timestamp": "2025-09-03T11:49:19.028922Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET / - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "cb4955fd-5dbb-49f1-a5cf-14f908167093", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 0.7848739624023438, "response_size": "43", "request_id": "cb4955fd-5dbb-49f1-a5cf-14f908167093"}}
{"timestamp": "2025-09-03T11:49:19.029236Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:19.029190\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/\", \"status_code\": 200, \"duration_ms\": 1.52, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     127.0.0.1:56740 - "GET / HTTP/1.1" 200 OK
{"timestamp": "2025-09-03T11:49:19.039895Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /api/sessions", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "80291953-e495-49c5-a2f8-334441d7643e", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/api/sessions", "path": "/api/sessions", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "80291953-e495-49c5-a2f8-334441d7643e"}}
{"timestamp": "2025-09-03T11:49:19.041605Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /api/recovery/status", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "f9c0876b-4598-4767-b381-3b17435f3393", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/api/recovery/status", "path": "/api/recovery/status", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "f9c0876b-4598-4767-b381-3b17435f3393"}}
{"timestamp": "2025-09-03T11:49:19.042177Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: GET /api/analytics/global", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "a50aebe8-bba0-4eba-96ac-07cd4a3c3d7b", "client_ip": "127.0.0.1", "extra": {"method": "GET", "url": "http://localhost:9999/api/analytics/global", "path": "/api/analytics/global", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "a50aebe8-bba0-4eba-96ac-07cd4a3c3d7b"}}
{"timestamp": "2025-09-03T11:49:19.077851Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET /api/sessions - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "80291953-e495-49c5-a2f8-334441d7643e", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 37.93072700500488, "response_size": "571", "request_id": "80291953-e495-49c5-a2f8-334441d7643e"}}
{"timestamp": "2025-09-03T11:49:19.078664Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: POST /api/session-with-config", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b", "client_ip": "127.0.0.1", "extra": {"method": "POST", "url": "http://localhost:9999/api/session-with-config", "path": "/api/session-with-config", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15", "content-length": "86", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b"}}
{"timestamp": "2025-09-03T11:49:19.079318Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: POST /api/session-with-config", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f", "client_ip": "127.0.0.1", "extra": {"method": "POST", "url": "http://localhost:9999/api/session-with-config", "path": "/api/session-with-config", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15", "content-length": "91", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f"}}
{"timestamp": "2025-09-03T11:49:19.079770Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:19.079721\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/api/sessions\", \"status_code\": 200, \"duration_ms\": 40.41, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:49:19.080101Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET /api/recovery/status - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "f9c0876b-4598-4767-b381-3b17435f3393", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 38.51890563964844, "response_size": "187", "request_id": "f9c0876b-4598-4767-b381-3b17435f3393"}}
{"timestamp": "2025-09-03T11:49:19.080790Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: GET /api/analytics/global - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "a50aebe8-bba0-4eba-96ac-07cd4a3c3d7b", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 38.64431381225586, "response_size": "3141", "request_id": "a50aebe8-bba0-4eba-96ac-07cd4a3c3d7b"}}
{"timestamp": "2025-09-03T11:49:19.081236Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:19.081194\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/api/recovery/status\", \"status_code\": 200, \"duration_ms\": 40.29, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:49:19.081694Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:19.081654\", \"client_ip\": \"127.0.0.1\", \"method\": \"GET\", \"path\": \"/api/analytics/global\", \"status_code\": 200, \"duration_ms\": 39.78, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     127.0.0.1:56758 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:56780 - "GET /api/recovery/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56792 - "GET /api/analytics/global HTTP/1.1" 200 OK
{"timestamp": "2025-09-03T11:49:19.085159Z", "level": "INFO", "logger": "claude_handler", "message": "Criando nova sess√£o", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b", "client_ip": "127.0.0.1", "extra": {"event": "session_create_start", "session_id": "1a066da7-c165-44f9-8c57-efe29993b3a4", "has_config": true, "request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b"}}
{"timestamp": "2025-09-03T11:49:19.085449Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Sess√£o registrada: 1a066da7-c165-44f9-8c57-efe29993b3a4", "module": "session_manager", "function": "register_session", "line": 249, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b", "client_ip": "127.0.0.1"}
{"timestamp": "2025-09-03T11:49:19.085761Z", "level": "INFO", "logger": "claude_handler", "message": "Criando nova sess√£o", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f", "client_ip": "127.0.0.1", "extra": {"event": "session_create_start", "session_id": "1a93959f-8d67-43c1-afcb-f8170ae7b773", "has_config": true, "request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f"}}
{"timestamp": "2025-09-03T11:49:19.086036Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Sess√£o registrada: 1a93959f-8d67-43c1-afcb-f8170ae7b773", "module": "session_manager", "function": "register_session", "line": 249, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f", "client_ip": "127.0.0.1"}
{"timestamp": "2025-09-03T11:49:19.103628Z", "level": "INFO", "logger": "claude_handler", "message": "Novo cliente criado", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b", "client_ip": "127.0.0.1", "extra": {"event": "client_created", "pool_size": 0, "request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b"}}
{"timestamp": "2025-09-03T11:49:19.104249Z", "level": "INFO", "logger": "claude_handler", "message": "Sess√£o criada com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b", "client_ip": "127.0.0.1", "extra": {"event": "session_created", "session_id": "1a066da7-c165-44f9-8c57-efe29993b3a4", "config": {"system_prompt_length": 0, "allowed_tools_count": 0, "max_turns": null, "permission_mode": "acceptEdits", "cwd": null}, "request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b"}}
{"timestamp": "2025-09-03T11:49:19.104647Z", "level": "INFO", "logger": "claude_handler", "message": "Novo cliente criado", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f", "client_ip": "127.0.0.1", "extra": {"event": "client_created", "pool_size": 0, "request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f"}}
{"timestamp": "2025-09-03T11:49:19.104930Z", "level": "INFO", "logger": "claude_handler", "message": "Sess√£o criada com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f", "client_ip": "127.0.0.1", "extra": {"event": "session_created", "session_id": "1a93959f-8d67-43c1-afcb-f8170ae7b773", "config": {"system_prompt_length": 0, "allowed_tools_count": 0, "max_turns": null, "permission_mode": "acceptEdits", "cwd": null}, "request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f"}}
{"timestamp": "2025-09-03T11:49:19.105367Z", "level": "INFO", "logger": "server", "message": "‚úÖ Sess√£o criada: 1a066da7-c165-44f9-8c57-efe29993b3a4", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b", "client_ip": "127.0.0.1", "extra": {"request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b"}}
{"timestamp": "2025-09-03T11:49:19.105991Z", "level": "INFO", "logger": "server", "message": "‚úÖ Sess√£o criada: 1a93959f-8d67-43c1-afcb-f8170ae7b773", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f", "client_ip": "127.0.0.1", "extra": {"request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f"}}
{"timestamp": "2025-09-03T11:49:19.106586Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: POST /api/session-with-config - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 27.93145179748535, "response_size": "53", "request_id": "7867ae90-110e-4b21-b1a1-7ddd099f5b8b"}}
{"timestamp": "2025-09-03T11:49:19.106926Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: POST /api/session-with-config - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 27.641773223876953, "response_size": "53", "request_id": "b57e3e27-5e5d-4b4a-b1b9-9bc7e066a77f"}}
{"timestamp": "2025-09-03T11:49:19.107418Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:19.107369\", \"client_ip\": \"127.0.0.1\", \"method\": \"POST\", \"path\": \"/api/session-with-config\", \"status_code\": 200, \"duration_ms\": 67.14, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
{"timestamp": "2025-09-03T11:49:19.107741Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:19.107711\", \"client_ip\": \"127.0.0.1\", \"method\": \"POST\", \"path\": \"/api/session-with-config\", \"status_code\": 200, \"duration_ms\": 67.27, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     127.0.0.1:56742 - "POST /api/session-with-config HTTP/1.1" 200 OK
INFO:     127.0.0.1:56772 - "POST /api/session-with-config HTTP/1.1" 200 OK
{"timestamp": "2025-09-03T11:49:19.111826Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_START: POST /api/chat", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee", "client_ip": "127.0.0.1", "extra": {"method": "POST", "url": "http://localhost:9999/api/chat", "path": "/api/chat", "query_params": {}, "headers": {"host": "localhost:9999", "accept": "*/*", "accept-encoding": "gzip, deflate", "user-agent": "Python/3.11 aiohttp/3.12.15", "content-length": "122", "content-type": "application/json"}, "client_ip": "127.0.0.1", "user_agent": "Python/3.11 aiohttp/3.12.15", "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee"}}
{"timestamp": "2025-09-03T11:49:19.113683Z", "level": "INFO", "logger": "server", "message": "Criando nova sess√£o automaticamente: 2424936b-1d81-4b09-91da-090176ab918e", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee", "client_ip": "127.0.0.1", "extra": {"event": "auto_new_session", "session_id": "2424936b-1d81-4b09-91da-090176ab918e", "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee"}}
{"timestamp": "2025-09-03T11:49:19.114031Z", "level": "INFO", "logger": "server", "message": "Iniciando envio de mensagem", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee", "client_ip": "127.0.0.1", "extra": {"event": "chat_message_start", "session_id": "2424936b-1d81-4b09-91da-090176ab918e", "message_length": 20, "message_preview": "Ol√°, este √© um teste", "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee"}}
{"timestamp": "2025-09-03T11:49:19.114689Z", "level": "INFO", "logger": "fallback_system", "message": "Item cacheado: chat:-2809964837281997023", "module": "fallback_system", "function": "set", "line": 73, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee", "client_ip": "127.0.0.1"}
{"timestamp": "2025-09-03T11:49:19.115080Z", "level": "INFO", "logger": "claude_handler", "message": "Criando nova sess√£o", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee", "client_ip": "127.0.0.1", "extra": {"event": "session_create_start", "session_id": "2424936b-1d81-4b09-91da-090176ab918e", "has_config": false, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee"}}
{"timestamp": "2025-09-03T11:49:19.115429Z", "level": "INFO", "logger": "ClaudeCodeSessionManager", "message": "Sess√£o registrada: 2424936b-1d81-4b09-91da-090176ab918e", "module": "session_manager", "function": "register_session", "line": 249, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee", "client_ip": "127.0.0.1"}
{"timestamp": "2025-09-03T11:49:19.116367Z", "level": "INFO", "logger": "exception_middleware", "message": "REQUEST_SUCCESS: POST /api/chat - 200", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee", "client_ip": "127.0.0.1", "extra": {"status_code": 200, "duration_ms": 4.58526611328125, "response_size": null, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee"}}
{"timestamp": "2025-09-03T11:49:19.125757Z", "level": "INFO", "logger": "security_middleware", "message": "Request ok: {\"timestamp\": \"2025-09-03T08:49:19.125498\", \"client_ip\": \"127.0.0.1\", \"method\": \"POST\", \"path\": \"/api/chat\", \"status_code\": 200, \"duration_ms\": 14.05, \"user_agent\": \"Python/3.11 aiohttp/3.12.15\", \"referer\": \"\"}", "module": "security_middleware", "function": "_log_request", "line": 438, "process_id": 2834885, "thread_id": 139628706209856}
INFO:     127.0.0.1:56798 - "POST /api/chat HTTP/1.1" 200 OK
{"timestamp": "2025-09-03T11:49:19.127624Z", "level": "INFO", "logger": "claude_handler", "message": "Novo cliente criado", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee", "client_ip": "127.0.0.1", "extra": {"event": "client_created", "pool_size": 0, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee"}}
{"timestamp": "2025-09-03T11:49:19.127829Z", "level": "INFO", "logger": "claude_handler", "message": "Sess√£o criada com sucesso", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee", "client_ip": "127.0.0.1", "extra": {"event": "session_created", "session_id": "2424936b-1d81-4b09-91da-090176ab918e", "config": {"system_prompt_length": 0, "allowed_tools_count": 0, "max_turns": null, "permission_mode": "acceptEdits", "cwd": null}, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee"}}
{"timestamp": "2025-09-03T11:49:19.128909Z", "level": "INFO", "logger": "server", "message": "Finalizando streaming de mensagem", "module": "logging_config", "function": "info", "line": 102, "process_id": 2834885, "thread_id": 139628706209856, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee", "client_ip": "127.0.0.1", "extra": {"event": "chat_streaming_complete", "session_id": "2424936b-1d81-4b09-91da-090176ab918e", "duration_ms": 14.300823211669922, "total_chunks": 1, "request_id": "cd329aea-2505-4581-bd0c-f11fd7935dee"}}
